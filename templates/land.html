<!doctype html>
<html lang="en">

	<head>
		<!-- Required meta tags -->
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
		<title>Home</title>

		<!--Inter UI font-->
		<link href="https://rsms.me/inter/inter-ui.css" rel="stylesheet">

		<!--vendors styles-->
		<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
		<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/slick-carousel/1.8.1/slick.min.css">
		<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/slick-carousel/1.8.1/slick-theme.min.css">

		<!-- Bootstrap CSS / Color Scheme -->
		<link rel="stylesheet" href="{{ url_for('static', filename='css/search.css')}}" id="theme-color">
		<link rel="stylesheet" href="{{ url_for('static', filename='css/default.css')}}" id="theme-color">
		<link rel="stylesheet" href="{{ url_for('static', filename='css/cards.css')}}" id="theme-color">

	</head>

	<body>
		<section class="smart-scroll">
			<div class="container-fluid">
				<nav class="navbar navbar-expand-md navbar-dark">
					<a class="navbar-brand heading-black" href="/">
						ASMShare
					</a>
					<button class="navbar-toggler navbar-toggler-right border-0" type="button" data-toggle="collapse" data-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation">
						<span data-feather="grid"></span>
					</button>
				</nav>
			</div>
		</section>
		<!--hero header-->
		<section class="py-7 py-md-0 bg-hero" id="home">
			<div class="container">
				<div class="row vh-md-100">
					<div class="col-md-8 col-sm-10 col-12 mx-auto my-auto text-center">
						<h1 class="heading-black text-capitalize">Welcome</h1>
						<p class="lead py-3">Pretty empty for now, But I will add stuff I promise</p>
						<button class="btn btn-primary d-inline-flex flex-row align-items-center" onclick="window.location.href='/upload'">
							Upload
							<em class="ml-2" data-feather="arrow-right"></em>
						</button>
					</div>

					<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>


					<section>
						<input id="post_id" class="searchbar" type="text" placeholder="Search">
					</section>
					<br>
					<section>
						<a id="link" class="searchbutton" href="#">Go</a>
					</section>
					<!--
          Look, I don't want to use jQuery either, but here we are. If someone wants to convert this to regular js, go for it
          -->
					<script>
						$("input#post_id").on("change", function() { // Whenever this field changes

							var post_id = $("input#post_id").val(); // Get the value of the field

							$("a#link").attr("href", "search/" + post_id); // Update the href in the link to match the id inserted in the input field

						});
						$(document).on('keypress', function(e) {
							if (e.which == 13) {
								location.href = ('search/' + post_id.value);
							}
						});
					</script>
					<!-- region typing script -->
					<script>
						////////////////////////////
						// Twitter: @mikedevelops
						////////////////////////////

						// your custome placeholder goes here!
						var ph = "Search for items by name, author, tag, subject or description",
							searchBar = $('#post_id'),
							// placeholder loop counter
							phCount = 0;

						// function to return random number between
						// with min/max range
						function randDelay(min, max) {
							return Math.floor(Math.random() * (max - min + 1) + min);
						}

						// function to print placeholder text in a
						// 'typing' effect
						function printLetter(string, el) {
							// split string into character seperated array
							var arr = string.split(''),
								input = el,
								// store full placeholder
								origString = string,
								// get current placeholder value
								curPlace = $(input).attr("placeholder"),
								// append next letter to current placeholder
								placeholder = curPlace + arr[phCount];

							setTimeout(function() {
								// print placeholder text
								$(input).attr("placeholder", placeholder);
								// increase loop count
								phCount++;
								// run loop until placeholder is fully printed
								if (phCount < arr.length) {
									printLetter(origString, input);
								}
								// use random speed to simulate
								// 'human' typing
							}, randDelay(50, 90));
						}

						// function to init animation
						function placeholder() {
							$(searchBar).attr("placeholder", "");
							printLetter(ph, searchBar);
						}

						placeholder();
						$('.searchbutton').click(function(e) {
							//phCount = 0;
							//e.preventDefault();
							//placeholder();
						});
					</script>
				</div>
			</div>
		</section>
		<!-- THIS IS THE PART THAT HANDLES THE DISPLAY OF ITEMS -->
		<section>
			{% for y in cards %}
			<div class="CardHolder">
				{% for x in y %}
				<div class="card" onclick="window.location.href='/items/{{x}}'">
					<img src={{(y[x]["image"])}} class="CardImg">
					<div class="container">
						<h4>
							<b>{{y[x]["name"][:29]}}</b>
						</h4>
						<p>{{y[x]["veryshort"]}}</p>
					</div>
				</div>
				{% endfor %}
			</div>
			{% endfor %}
		</section>
		<!-- theme switcher (FOR DEMO ONLY - REMOVE FROM PRODUCTION)-->

		</div>


		<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js"></script>
		<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/feather-icons/4.7.3/feather.min.js"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/slick-carousel/1.8.1/slick.min.js"></script>


		<!-- jQuery first, then Popper.js, then Bootstrap JS -->
	</body>

</html>
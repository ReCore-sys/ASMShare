<!doctype html>
<html lang="en">

	<head>
		<!-- Required meta tags -->
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
		<title>Home</title>
		<link rel="shortcut icon" href="{{ url_for('static', filename='img/ASMS.ico') }}">

		<!--Inter UI font-->
		<link href="{{ url_for('static', filename='css/inter-ui.css')}}" rel="stylesheet" defer>

		<!--vendors styles-->
		<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
		
		

		<!-- Bootstrap CSS / Color Scheme -->
		<link rel="stylesheet" href="{{ url_for('static', filename='css/search.css')}}" id="theme-color">
		<link rel="stylesheet" href="{{ url_for('static', filename='css/default.css')}}" id="theme-color">
		<link rel="stylesheet" href="{{ url_for('static', filename='css/cards.css')}}" id="theme-color">
		<link href="http://ajax.googleapis.com/ajax/libs/jqueryui/1.8.16/themes/ui-lightness/jquery-ui.css" rel="stylesheet" type="text/css" />
		<!-- Local js -->
		<script src="{{ url_for('static', filename='js/autocomplete.js')}}" , id="autocompleteScript"></script>
		
		<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/feather-icons/4.7.3/feather.min.js"></script>
		

	</head>

	<body>
		<section class="smart-scroll">
			<div class="container-fluid">
				<nav class="navbar navbar-expand-md navbar-dark">
					{% include "menu.html" %}
					{% block menu %}
					{% endblock %}
					<button class="navbar-toggler navbar-toggler-right border-0" type="button" data-toggle="collapse" data-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation">
						<span data-feather="grid"></span>
					</button>
				</nav>
			</div>
		</section>
		<!--hero header-->
		<section class="py-7 py-md-0 bg-hero" id="home">
			<div class="container">
				<div class="row vh-md-100">
					<div class="col-md-8 col-sm-10 col-12 mx-auto my-auto text-center">
						<h1 class="heading-black text-capitalize">Home</h1>
						<button class="btn btn-primary d-inline-flex flex-row align-items-center" onclick="window.location.href='/upload'">
							Upload
							<em class="ml-2" data-feather="arrow-right"></em>
						</button>
					</div>

					<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
					<script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.8.16/jquery-ui.js"></script>
					<!--
          Look, I don't want to use jQuery either, but here we are. If someone wants to convert this to regular js, go for it
          -->
					<script>
					$("input#post_id").on("change", function() { // Whenever this field changes

						var post_id = $("input#post_id").val(); // Get the value of the field

						$("a#link").attr("href", "search/" + post_id); // Update the href in the link to match the id inserted in the input field

					});
					$(document).on('keypress', function(e) {
						if (e.which == 13) {
							location.href = ('search/' + post_id.value);
						}
            console.log(typeof "#post_id")
            console.log(availableTags)
					});
					</script>
					<!-- region typing script -->
					<script>
  					////////////////////////////
  					// Twitter: @mikedevelops
  					////////////////////////////

  					// your custome placeholder goes here!
  					var ph = "Search for items by name, author, tag, subject or description",
  						searchBar = $('#post_id'),
  						// placeholder loop counter
  						phCount = 0;

  					// function to return random number between
  					// with min/max range
  					function randDelay(min, max) {
  						return Math.floor(Math.random() * (max - min + 1) + min);
  					}

  					// function to print placeholder text in a
  					// 'typing' effect
  					function printLetter(string, el) {
  						// split string into character seperated array
  						var arr = string.split(''),
  							input = el,
  							// store full placeholder
  							origString = string,
  							// get current placeholder value
  							curPlace = $(input).attr("placeholder"),
  							// append next letter to current placeholder
  							placeholder = curPlace + arr[phCount];

  						setTimeout(function() {
  							// print placeholder text
  							$(input).attr("placeholder", placeholder);
  							// increase loop count
  							phCount++;
  							// run loop until placeholder is fully printed
  							if (phCount < arr.length) {
  								printLetter(origString, input);
  							}
  							// use random speed to simulate
  							// 'human' typing
  						}, randDelay(50, 90));
  					}

  					// function to init animation
  					function placeholder() {
  						$(searchBar).attr("placeholder", "");
  						printLetter(ph, searchBar);
  					}

  					placeholder();
  					$('.searchbutton').click(function(e) {
  						//phCount = 0;
  						//e.preventDefault();
  						//placeholder();
  					});
					</script>
				</div>
			</div>
		</section>
		<style>
@import url(https://fonts.googleapis.com/css?family=Lato:400,700|Montserrat:400,700);
@import url(https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css);

/*/ start count stats /*/

section#counter-stats {
	display: flex;
	justify-content: center;
	margin-top: 100px;
}

.stats {
	text-align: center;
	font-size: 35px;
	font-weight: 700;
	font-family: 'Montserrat', sans-serif;
}

.stats .fa {
	color: #008080;
	font-size: 60px;
}
		</style>

		<!-- start count stats -->

		<section id="counter-stats" class="wow fadeInRight" data-wow-duration="1.4s">
			<div class="container">
				<div class="row">

					<div class="col-lg-3 stats">
						<i class="fa" data-feather="file" aria-hidden="true"></i>
						<div class="counting" data-count={{stats["uploads"]}}>0</div>
						<h5>Files uploaded</h5>
					</div>

					<div class="col-lg-3 stats">
						<i class="fa" data-feather="users" aria-hidden="true"></i>
						<div class="counting" data-count={{stats["users"]}}>0</div>
						<h5>Active users</h5>
					</div>

					<div class="col-lg-3 stats">
						<i class="fa" data-feather="folder-plus" aria-hidden="true"></i>
						<div class="counting" data-count={{stats["size"][0]}}>0</div>
						<h5>{{stats["size"][1]}} of uploads</h5>
					</div>

					<div class="col-lg-3 stats">
						<i class="fa" data-feather="log-in" aria-hidden="true"></i>
						<div class="counting" data-count={{stats["logins"]}}>0</div>
						<h5>Individual logins</h5>
					</div>

					<script>
            // number count for stats, using jQuery animate

            $('.counting').each(function() {
              var $this = $(this),
                  countTo = $this.attr('data-count');

              $({ countNum: $this.text()}).animate({
                countNum: countTo
              },

              {

                duration: 3000,
                easing:'linear',
                step: function() {
                  $this.text(Math.floor(this.countNum));
                },
                complete: function() {
                  $this.text(this.countNum);
                  //alert('finished');
                }

              });


            });
          </script>
					<script>
          feather.replace()
          </script>

				</div>
				<!-- end row -->
			</div>
			<!-- end container -->

		</section>
	</body>

</html>